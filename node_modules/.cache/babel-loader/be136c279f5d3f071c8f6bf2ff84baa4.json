{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Azapfy\\\\Documents\\\\Ioasys\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Azapfy\\\\Documents\\\\Ioasys\\\\src\\\\Components\\\\Pages\\\\Perfil.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { theme } from \"../../GlobalStyle/theme\";\nimport BurgerMenu from \"./BurgerMenu\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport perfil from \"../../images/perfil.jpg\";\nimport perfilF from \"../../images/perfilF.jpg\";\nimport MenuPoint from \"./atoms/MenuPoint\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport { StyledMainDiv, StyledOtherDiv } from \"../Pages/Styled/ajusteBackground\";\nimport { createBrowserHistory } from \"history\";\nconst history = createBrowserHistory({\n  basename: \"/\"\n});\n\nconst Perfil = props => {\n  var image = perfil;\n  const usuario = props.usuario;\n  const classes = useStyles();\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        helpers = _useState2[0],\n        setHelpers = _useState2[1];\n\n  if (usuario.name === undefined) {\n    history.push(\"/login\");\n  }\n\n  useEffect(() => {\n    if (usuario.isHelper) {\n      const AuthToken = localStorage.getItem(\"token\");\n      const USER_TOKEN = \"Bearer \".concat(AuthToken); // axios\n      //   .get(\n      //     `https://api-edu.herokuapp.com/helpers/${localStorage.getItem(\"id\")}`,\n      //     { headers: { Authorization: USER_TOKEN } }\n      //   )\n      //   .then(res => {\n      //     setHelpers(res.subjects);\n      //   });\n\n      axios.get(`https://api-edu.herokuapp.com/helpers`, {\n        headers: {\n          Authorization: USER_TOKEN\n        }\n      }).then(res => {\n        console.log(res);\n        let variavel = res.data.map(subject => {\n          if (localStorage.getItem(\"id\") === subject.student._id) {\n            console.log(subject.subjects);\n            let variavel = subject.subjects.map(sub => sub.name); // let x = subject.subjects.map(var => {var.name)};\n\n            console.log(variavel);\n            setHelpers(variavel);\n          }\n        });\n      });\n    }\n  }, []);\n\n  if (usuario.gender === \"F\") {\n    image = perfilF;\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(ThemeProvider, {\n    theme: theme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(BurgerMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(StyledMainDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(MenuPoint, {\n    user: usuario,\n    style: {\n      marginLeft: \"90%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.form,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(StyledOtherDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"MEU PERFIL\"), React.createElement(Avatar, {\n    style: {\n      margin: \"auto\",\n      width: \"12vw\",\n      height: \"12vw\",\n      marginTop: \"8vh\",\n      alignContent: \"center\"\n    },\n    alt: \"Remy Sharp\",\n    src: image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), React.createElement(StyledOtherDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, usuario.name), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, usuario.course.name), \" -\", \" \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, usuario.course.campus)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, usuario.phone)), usuario.isHelper ? React.createElement(StyledOtherDiv, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, helpers.map(helper => React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, helper.name))) : null))));\n};\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n    textAlign: \"center\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\"\n  },\n  input: {\n    width: \"100%\",\n    height: \"32px\",\n    fontSize: \"14px\",\n    display: \"center\",\n    color: \"black\",\n    border: 0,\n    borderBottom: (\"1px\", \"solid\", \"#0D0C1D\")\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    display: \"center\",\n    backgroundColor: \"#f50057\",\n    color: \"#fafafa\"\n  },\n  divSubmit: {\n    display: \"-webkit-inline-box\",\n    margin: \"auto\"\n  }\n}));\nexport default Perfil;","map":{"version":3,"sources":["C:/Users/Azapfy/Documents/Ioasys/src/Components/Pages/Perfil.jsx"],"names":["React","useEffect","useState","makeStyles","styled","ThemeProvider","theme","BurgerMenu","Avatar","perfil","perfilF","MenuPoint","moment","axios","StyledMainDiv","StyledOtherDiv","createBrowserHistory","history","basename","Perfil","props","image","usuario","classes","useStyles","helpers","setHelpers","name","undefined","push","isHelper","AuthToken","localStorage","getItem","USER_TOKEN","concat","get","headers","Authorization","then","res","console","log","variavel","data","map","subject","student","_id","subjects","sub","gender","marginLeft","form","margin","width","height","marginTop","alignContent","course","campus","phone","helper","paper","spacing","display","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","textAlign","marginRight","input","fontSize","color","border","borderBottom","submit","divSubmit"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,MAAP,IAAiBC,aAAjB,QAAsC,mBAAtC;AACA,SAASC,KAAT,QAAsB,yBAAtB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,aADF,EAEEC,cAFF,QAGO,kCAHP;AAIA,SAASC,oBAAT,QAAqC,SAArC;AAEA,MAAMC,OAAO,GAAGD,oBAAoB,CAAC;AACnCE,EAAAA,QAAQ,EAAE;AADyB,CAAD,CAApC;;AAIA,MAAMC,MAAM,GAAGC,KAAK,IAAI;AACtB,MAAIC,KAAK,GAAGZ,MAAZ;AADsB,QAEda,OAFc,GAEFF,KAFE,CAEdE,OAFc;AAGtB,QAAMC,OAAO,GAAGC,SAAS,EAAzB;;AAHsB,oBAIQtB,QAAQ,CAAC,EAAD,CAJhB;AAAA;AAAA,QAIfuB,OAJe;AAAA,QAINC,UAJM;;AAMtB,MAAIJ,OAAO,CAACK,IAAR,KAAiBC,SAArB,EAAgC;AAC9BX,IAAAA,OAAO,CAACY,IAAR,CAAa,QAAb;AACD;;AACD5B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIqB,OAAO,CAACQ,QAAZ,EAAsB;AACpB,YAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAlB;AACA,YAAMC,UAAU,GAAG,UAAUC,MAAV,CAAiBJ,SAAjB,CAAnB,CAFoB,CAGpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAlB,MAAAA,KAAK,CACFuB,GADH,CACQ,uCADR,EACgD;AAC5CC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,aAAa,EAAEJ;AAAjB;AADmC,OADhD,EAIGK,IAJH,CAIQC,GAAG,IAAI;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,YAAIG,QAAQ,GAAGH,GAAG,CAACI,IAAJ,CAASC,GAAT,CAAaC,OAAO,IAAI;AACrC,cAAId,YAAY,CAACC,OAAb,CAAqB,IAArB,MAA+Ba,OAAO,CAACC,OAAR,CAAgBC,GAAnD,EAAwD;AACtDP,YAAAA,OAAO,CAACC,GAAR,CAAYI,OAAO,CAACG,QAApB;AACA,gBAAIN,QAAQ,GAAGG,OAAO,CAACG,QAAR,CAAiBJ,GAAjB,CAAqBK,GAAG,IAAIA,GAAG,CAACvB,IAAhC,CAAf,CAFsD,CAGtD;;AACAc,YAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AACAjB,YAAAA,UAAU,CAACiB,QAAD,CAAV;AACD;AACF,SARc,CAAf;AASD,OAfH;AAgBD;AACF,GA7BQ,EA6BN,EA7BM,CAAT;;AA+BA,MAAIrB,OAAO,CAAC6B,MAAR,KAAmB,GAAvB,EAA4B;AAC1B9B,IAAAA,KAAK,GAAGX,OAAR;AACD;;AACD,SACE,0CACE,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAEJ,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAGE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AAAW,IAAA,IAAI,EAAEgB,OAAjB;AAA0B,IAAA,KAAK,EAAE;AAAE8B,MAAAA,UAAU,EAAE;AAAd,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAE7B,OAAO,CAAC8B,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAGE,oBAAC,MAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,MAAM,EAAE,MADH;AAELC,MAAAA,KAAK,EAAE,MAFF;AAGLC,MAAAA,MAAM,EAAE,MAHH;AAILC,MAAAA,SAAS,EAAE,KAJN;AAKLC,MAAAA,YAAY,EAAE;AALT,KADT;AAQE,IAAA,GAAG,EAAC,YARN;AASE,IAAA,GAAG,EAAErC,KATP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF,EAgBE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKC,OAAO,CAACK,IAAb,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOL,OAAO,CAACqC,MAAR,CAAehC,IAAtB,CADF,QACuC,GADvC,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOL,OAAO,CAACqC,MAAR,CAAeC,MAAtB,CAFF,CAFF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAItC,OAAO,CAACuC,KAAZ,CANF,CAhBF,EAwBGvC,OAAO,CAACQ,QAAR,GACC,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,OAAO,CAACoB,GAAR,CAAYiB,MAAM,IACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOA,MAAM,CAACnC,IAAd,CADD,CADH,CADD,GAMG,IA9BN,CAFF,CAHF,CADF,CADF;AA2CD,CAtFD;;AAwFA,MAAMH,SAAS,GAAGrB,UAAU,CAACG,KAAK,KAAK;AACrCyD,EAAAA,KAAK,EAAE;AACLN,IAAAA,SAAS,EAAEnD,KAAK,CAAC0D,OAAN,CAAc,CAAd,CADN;AAELC,IAAAA,OAAO,EAAE,MAFJ;AAGLC,IAAAA,aAAa,EAAE,QAHV;AAILC,IAAAA,UAAU,EAAE;AAJP,GAD8B;AAOrCC,EAAAA,MAAM,EAAE;AACNd,IAAAA,MAAM,EAAEhD,KAAK,CAAC0D,OAAN,CAAc,CAAd,CADF;AAENK,IAAAA,eAAe,EAAE/D,KAAK,CAACgE,OAAN,CAAcC,SAAd,CAAwBC;AAFnC,GAP6B;AAYrCnB,EAAAA,IAAI,EAAE;AACJE,IAAAA,KAAK,EAAE,MADH;AACW;AACfE,IAAAA,SAAS,EAAEnD,KAAK,CAAC0D,OAAN,CAAc,CAAd,CAFP;AAGJS,IAAAA,SAAS,EAAE,QAHP;AAIJrB,IAAAA,UAAU,EAAE,MAJR;AAKJsB,IAAAA,WAAW,EAAE;AALT,GAZ+B;AAoBrCC,EAAAA,KAAK,EAAE;AACLpB,IAAAA,KAAK,EAAE,MADF;AAELC,IAAAA,MAAM,EAAE,MAFH;AAGLoB,IAAAA,QAAQ,EAAE,MAHL;AAILX,IAAAA,OAAO,EAAE,QAJJ;AAKLY,IAAAA,KAAK,EAAE,OALF;AAMLC,IAAAA,MAAM,EAAE,CANH;AAOLC,IAAAA,YAAY,GAAG,OAAO,OAAP,EAAgB,SAAnB;AAPP,GApB8B;AA8BrCC,EAAAA,MAAM,EAAE;AACN1B,IAAAA,MAAM,EAAEhD,KAAK,CAAC0D,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,CADF;AAENC,IAAAA,OAAO,EAAE,QAFH;AAGNI,IAAAA,eAAe,EAAE,SAHX;AAINQ,IAAAA,KAAK,EAAE;AAJD,GA9B6B;AAoCrCI,EAAAA,SAAS,EAAE;AAAEhB,IAAAA,OAAO,EAAE,oBAAX;AAAiCX,IAAAA,MAAM,EAAE;AAAzC;AApC0B,CAAL,CAAN,CAA5B;AAuCA,eAAenC,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport styled, { ThemeProvider } from \"styled-components\";\r\nimport { theme } from \"../../GlobalStyle/theme\";\r\nimport BurgerMenu from \"./BurgerMenu\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport perfil from \"../../images/perfil.jpg\";\r\nimport perfilF from \"../../images/perfilF.jpg\";\r\nimport MenuPoint from \"./atoms/MenuPoint\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport {\r\n  StyledMainDiv,\r\n  StyledOtherDiv\r\n} from \"../Pages/Styled/ajusteBackground\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nconst history = createBrowserHistory({\r\n  basename: \"/\"\r\n});\r\n\r\nconst Perfil = props => {\r\n  var image = perfil;\r\n  const { usuario } = props;\r\n  const classes = useStyles();\r\n  const [helpers, setHelpers] = useState([]);\r\n\r\n  if (usuario.name === undefined) {\r\n    history.push(\"/login\");\r\n  }\r\n  useEffect(() => {\r\n    if (usuario.isHelper) {\r\n      const AuthToken = localStorage.getItem(\"token\");\r\n      const USER_TOKEN = \"Bearer \".concat(AuthToken);\r\n      // axios\r\n      //   .get(\r\n      //     `https://api-edu.herokuapp.com/helpers/${localStorage.getItem(\"id\")}`,\r\n      //     { headers: { Authorization: USER_TOKEN } }\r\n      //   )\r\n      //   .then(res => {\r\n      //     setHelpers(res.subjects);\r\n      //   });\r\n      axios\r\n        .get(`https://api-edu.herokuapp.com/helpers`, {\r\n          headers: { Authorization: USER_TOKEN }\r\n        })\r\n        .then(res => {\r\n          console.log(res);\r\n          let variavel = res.data.map(subject => {\r\n            if (localStorage.getItem(\"id\") === subject.student._id) {\r\n              console.log(subject.subjects);\r\n              let variavel = subject.subjects.map(sub => sub.name);\r\n              // let x = subject.subjects.map(var => {var.name)};\r\n              console.log(variavel);\r\n              setHelpers(variavel);\r\n            }\r\n          });\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  if (usuario.gender === \"F\") {\r\n    image = perfilF;\r\n  }\r\n  return (\r\n    <>\r\n      <ThemeProvider theme={theme}>\r\n        <BurgerMenu />\r\n\r\n        <StyledMainDiv>\r\n          <MenuPoint user={usuario} style={{ marginLeft: \"90%\" }} />\r\n          <div className={classes.form}>\r\n            <StyledOtherDiv>\r\n              <h1>MEU PERFIL</h1>\r\n\r\n              <Avatar\r\n                style={{\r\n                  margin: \"auto\",\r\n                  width: \"12vw\",\r\n                  height: \"12vw\",\r\n                  marginTop: \"8vh\",\r\n                  alignContent: \"center\"\r\n                }}\r\n                alt=\"Remy Sharp\"\r\n                src={image}\r\n              />\r\n            </StyledOtherDiv>\r\n            <StyledOtherDiv>\r\n              <h2>{usuario.name}</h2>\r\n              <p>\r\n                <span>{usuario.course.name}</span> -{\" \"}\r\n                <span>{usuario.course.campus}</span>\r\n              </p>\r\n              <p>{usuario.phone}</p>\r\n            </StyledOtherDiv>\r\n            {usuario.isHelper ? (\r\n              <StyledOtherDiv>\r\n                {helpers.map(helper => (\r\n                  <span>{helper.name}</span>\r\n                ))}\r\n              </StyledOtherDiv>\r\n            ) : null}\r\n          </div>\r\n        </StyledMainDiv>\r\n      </ThemeProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\"\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n    textAlign: \"center\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\"\r\n  },\r\n\r\n  input: {\r\n    width: \"100%\",\r\n    height: \"32px\",\r\n    fontSize: \"14px\",\r\n    display: \"center\",\r\n    color: \"black\",\r\n    border: 0,\r\n    borderBottom: (\"1px\", \"solid\", \"#0D0C1D\")\r\n  },\r\n\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    display: \"center\",\r\n    backgroundColor: \"#f50057\",\r\n    color: \"#fafafa\"\r\n  },\r\n  divSubmit: { display: \"-webkit-inline-box\", margin: \"auto\" }\r\n}));\r\n\r\nexport default Perfil;\r\n"]},"metadata":{},"sourceType":"module"}